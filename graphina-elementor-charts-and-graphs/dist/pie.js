import{G as s}from"./GraphinaApexChartBase.js";class c extends s{constructor(){super(),this.observer={}}setUpChartsHandler(){this.chartHandlers={pie:a=>this.observeChartElement(a,"pie")}}applyDataLabelFormatter(a,e,n=!1){let _=e.chart_datalabel_prefix??"",t=e.chart_datalabel_postfix??"";a.dataLabels||(a.dataLabels={}),e.chart_data_label_pointer?(a.plotOptions.pie.donut.labels.total.formatter=l=>{let i=l.globals.seriesTotals.reduce((o,r)=>o+r,0);return i=this.formatNumber(i,e.chart_datalabel_decimals_in_float),_+i+t},a.plotOptions.pie.donut.labels.value.formatter=l=>(l=this.formatNumber(l,e.chart_datalabel_decimals_in_float),_+l+t),a.tooltip.y={formatter:l=>_+this.formatNumber(l,e.chart_datalabel_decimals_in_float)+t}):(a.tooltip.y={formatter:l=>_+new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l)+t},a.plotOptions.pie.donut.labels.value.formatter=l=>(l=new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l),_+l+t),a.plotOptions.pie.donut.labels.total.formatter=l=>{let i=l.globals.seriesTotals.reduce((o,r)=>o+r,0);return i=new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(i),_+i+t}),a.dataLabels&&(a.dataLabels.formatter=(l,i)=>{if(n){let o=i.w.globals.seriesTotals.reduce((r,m)=>r+m,0);l=new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l/o*100)}return e.chart_datalabels_format_showlabel?i.w.globals.labels[i.seriesIndex]+"-"+_+new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l)+t:_+new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l)+"%"+t},e.chart_datalabels_format_showValue&&(a.dataLabels.formatter=(l,i)=>(l=i.w.globals.series[i.seriesIndex],e.chart_number_format_commas&&!e.chart_data_label_pointer&&(l=new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(l)),e.chart_data_label_pointer?_+this.formatNumber(l,e.chart_datalabel_decimals_in_float)+t:e.chart_datalabels_format_showlabel?i.w.globals.labels[i.seriesIndex]+"-"+_+l+t:_+l+t)))}applyLegendTooltip(a,e,n){if(e.legend_show_series_value){const _=e.chart_legend_show_series_prefix==="yes"?e.chart_datalabel_prefix??"":"",t=e.chart_legend_show_series_postfix==="yes"?e.chart_datalabel_postfix??"":"";a.legend.formatter=(l,i)=>{l=decodeURIComponent(l);let o=i.w.globals.series[i.seriesIndex];return o=new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen,{minimumFractionDigits:e.chart_datalabel_decimals_in_float,maximumFractionDigits:e.chart_datalabel_decimals_in_float}).format(o),`<div class="legend-info"><span>${l}</span>: ${_}${o}${t}</div>`}}}getChartOptions(a,e,n,_,t){return e==="pie"&&(a.labels=a.xaxis.categories,a.chart.events={mounted:(l,i)=>{const o=document.querySelector(`.graphina-elementor-chart[data-element_id="${t}"]`);o&&(o.style.height="")}}),a}}window.graphinaPieChart=new c;
//# sourceMappingURL=pie.js.map
