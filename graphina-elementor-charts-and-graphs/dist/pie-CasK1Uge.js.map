{"version":3,"file":"pie-CasK1Uge.js","sources":["../assets/elementor/js/apex-chart/PieChart.js"],"sourcesContent":["import GraphinaApexChartBase from './GraphinaApexChartBase';\n\n// Child class specifically for Pie Charts\nexport default class PieChart extends GraphinaApexChartBase {\n    constructor() {\n        super();\n        this.observer = null; // For IntersectionObserver\n    }\n\n    // Setup handlers for Pie chart type\n    setUpChartsHandler() {\n        this.chartHandlers = {\n            pie: (element) => this.observeChartElement(element, 'pie'),\n        };\n    }\n\n    // Setup IntersectionObserver to call setupChart when the element is in the viewport\n    observeChartElement(element, chartType) {\n        if (gcfe_public_localize.view_port === 'off') {\n            if (!this.observer) {\n                this.observer = new IntersectionObserver((entries) => {\n                    entries.forEach((entry) => {\n                        if (entry.isIntersecting) {\n                            // Element is in viewport; initialize the chart\n                            this.setupChart(jQuery(entry.target), chartType);\n                            // Stop observing the element after initializing the chart\n                            this.observer.unobserve(entry.target);\n                        }\n                    });\n                }, { threshold: 0.1 }); // Trigger when at least 10% of the element is visible\n            }\n            this.observer.observe(element[0]); // Start observing the chart element\n        } else {\n            this.setupChart(element, chartType);\n        }\n    }\n\n    applyDataLabelFormatter(chartOptions,extraData){\n        let datalabelPreFix = extraData.chart_datalabel_prefix ?? '';\n        let datalabelPostFix = extraData.chart_datalabel_postfix ?? '';\n        if (!chartOptions.dataLabels) {\n            chartOptions.dataLabels = {}; // Initialize dataLabels if it doesn't exist\n        } \n        chartOptions.dataLabels.formatter = (val) => {\n            if(extraData.chart_number_format_commas && !extraData.chart_data_label_pointer){\n                val = new Intl.NumberFormat(window.gcfe_public_localize.locale_with_hyphen, {\n                    minimumFractionDigits: extraData.chart_datalabel_decimals_in_float,\n                    maximumFractionDigits: extraData.chart_datalabel_decimals_in_float,\n                }).format(val);\n            }\n            if (extraData.chart_data_label_pointer) {\n                return datalabelPreFix + this.formatNumber(val, extraData.chart_datalabel_decimals_in_float) + datalabelPostFix;\n            }\n            return datalabelPreFix + val + datalabelPostFix\n        }\n    }\n    \n    getChartOptions(finalChartOptions, chartType, extraData, responsive_options, elementId) {\n        if (chartType === 'pie') {\n            finalChartOptions.responsive = responsive_options\n            finalChartOptions.labels = finalChartOptions.xaxis.categories\n        }\n        return finalChartOptions;\n    }\n}\n\n// Initialize PieChart\nnew PieChart();\n"],"names":["PieChart","GraphinaApexChartBase","element","chartType","entries","entry","chartOptions","extraData","datalabelPreFix","datalabelPostFix","val","finalChartOptions","responsive_options","elementId"],"mappings":"wDAGe,MAAMA,UAAiBC,CAAsB,CACxD,aAAc,CACV,MAAO,EACP,KAAK,SAAW,IACxB,CAGI,oBAAqB,CACjB,KAAK,cAAgB,CACjB,IAAMC,GAAY,KAAK,oBAAoBA,EAAS,KAAK,CAC5D,CACT,CAGI,oBAAoBA,EAASC,EAAW,CAChC,qBAAqB,YAAc,OAC9B,KAAK,WACN,KAAK,SAAW,IAAI,qBAAsBC,GAAY,CAClDA,EAAQ,QAASC,GAAU,CACnBA,EAAM,iBAEN,KAAK,WAAW,OAAOA,EAAM,MAAM,EAAGF,CAAS,EAE/C,KAAK,SAAS,UAAUE,EAAM,MAAM,EAEhE,CAAqB,CACrB,EAAmB,CAAE,UAAW,EAAG,CAAE,GAEzB,KAAK,SAAS,QAAQH,EAAQ,CAAC,CAAC,GAEhC,KAAK,WAAWA,EAASC,CAAS,CAE9C,CAEI,wBAAwBG,EAAaC,EAAU,CAC3C,IAAIC,EAAkBD,EAAU,wBAA0B,GACtDE,EAAmBF,EAAU,yBAA2B,GACvDD,EAAa,aACdA,EAAa,WAAa,IAE9BA,EAAa,WAAW,UAAaI,IAC9BH,EAAU,4BAA8B,CAACA,EAAU,2BAClDG,EAAM,IAAI,KAAK,aAAa,OAAO,qBAAqB,mBAAoB,CACxE,sBAAuBH,EAAU,kCACjC,sBAAuBA,EAAU,iCACrD,CAAiB,EAAE,OAAOG,CAAG,GAEbH,EAAU,yBACHC,EAAkB,KAAK,aAAaE,EAAKH,EAAU,iCAAiC,EAAIE,EAE5FD,EAAkBE,EAAMD,EAE3C,CAEI,gBAAgBE,EAAmBR,EAAWI,EAAWK,EAAoBC,EAAW,CACpF,OAAIV,IAAc,QACdQ,EAAkB,WAAaC,EAC/BD,EAAkB,OAASA,EAAkB,MAAM,YAEhDA,CACf,CACA,CAGA,IAAIX"}